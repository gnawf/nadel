---
name: top level field error does not redact other top level fields
query: |-
  query {
    foo
    bar: foo
  }
services:
  service: |
    schema {
      query: Query
    }

    type Query {
      foo: String
    }
ndsls:
  service1: |-
    service service1 {
        type Query {
            foo: String
        }
    }
schema: |
  schema {
    query: Query
  }

  type Query {
    foo: String
  }
underlyingQueries:
  call-0: |-
    query nadel_2_service {
      bar: foo
    }
underlyingResults:
  call-0: |-
    {
      "errors" : [ ],
      "data" : {
        "bar" : "boo"
      },
      "extensions" : { }
    }
response: |-
  {
    "errors" : [
      {
        "message" : "Hello world",
        "locations" : [ ],
        "path" : [
          "test",
          "hello"
        ],
        "extensions" : {
          "classification" : "DataFetchingException"
        }
      }
    ],
    "data" : {
      "foo" : null,
      "bar" : "boo"
    },
    "extensions" : { }
  }
