---
name: underlying service returns null for non-nullable field
query: |-
  query {
    issue {
      id
    }
  }
services:
  Issues: |
    schema {
      query: Query
    }

    type Issue {
      id: ID!
    }

    type Query {
      issue: Issue
    }
ndsls:
  Issues: |-
    service Issues {
        type Query {
            issue: Issue
        }
        type Issue {
            id: ID!
        }
    }
schema: |
  schema {
    query: Query
  }

  type Issue {
    id: ID!
  }

  type Query {
    issue: Issue
  }
underlyingQueries:
  call-0: |-
    query nadel_2_Issues {
      issue {
        id
      }
    }
underlyingResults:
  call-0: |-
    {
      "errors" : [ ],
      "data" : {
        "issue" : {
          "id" : null
        }
      },
      "extensions" : { }
    }
response: |-
  {
    "errors" : [
      {
        "message" : "The field at path '/issue/id' was declared as a non null type, but the code involved in retrieving data has wrongly returned a null value.  The graphql specification requires that the parent field be set to null, or if that is non nullable that it bubble up null to its parent and so on. The non-nullable type is 'ID'.",
        "path" : [
          "issue",
          "id"
        ],
        "extensions" : {
          "classification" : "NullValueInNonNullableField"
        }
      }
    ],
    "data" : {
      "issue" : null
    },
    "extensions" : { }
  }
